<div class="markdown prose w-full break-words dark:prose-invert dark"><p>Hereâ€™s how you can structure and manage this data in a NoSQL database like MongoDB, along with essential queries for real-world production usage.</p><hr><h3><strong>1. Database Structure</strong></h3><h4>Insert User Data (Nested Structure)</h4><pre class="!overflow-visible"><div class="contain-inline-size rounded-md border-[0.5px] border-token-border-medium relative bg-token-sidebar-surface-primary dark:bg-gray-950"><div class="flex items-center text-token-text-secondary px-4 py-2 text-xs font-sans justify-between rounded-t-md h-9 bg-token-sidebar-surface-primary dark:bg-token-main-surface-secondary select-none">javascript</div><div class="sticky top-9 md:top-[5.75rem]"><div class="absolute bottom-0 right-2 flex h-9 items-center"><div class="flex items-center rounded bg-token-sidebar-surface-primary px-2 font-sans text-xs text-token-text-secondary dark:bg-token-main-surface-secondary"><span class="" data-state="closed"><button class="flex gap-1 items-center select-none py-1"><svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" class="icon-sm"><path fill-rule="evenodd" clip-rule="evenodd" d="M7 5C7 3.34315 8.34315 2 10 2H19C20.6569 2 22 3.34315 22 5V14C22 15.6569 20.6569 17 19 17H17V19C17 20.6569 15.6569 22 14 22H5C3.34315 22 2 20.6569 2 19V10C2 8.34315 3.34315 7 5 7H7V5ZM9 7H14C15.6569 7 17 8.34315 17 10V15H19C19.5523 15 20 14.5523 20 14V5C20 4.44772 19.5523 4 19 4H10C9.44772 4 9 4.44772 9 5V7ZM5 9C4.44772 9 4 9.44772 4 10V19C4 19.5523 4.44772 20 5 20H14C14.5523 20 15 19.5523 15 19V10C15 9.44772 14.5523 9 14 9H5Z" fill="currentColor"></path></svg>Copy code</button></span></div></div></div><div class="overflow-y-auto p-4" dir="ltr"><code class="!whitespace-pre hljs language-javascript">db.<span class="hljs-property">users</span>.<span class="hljs-title function_">insertOne</span>({
  <span class="hljs-attr">email</span>: <span class="hljs-string">'12240095.gcit@rub.edu.bt'</span>,
  <span class="hljs-attr">enRoll</span>: <span class="hljs-string">'12240095'</span>,
  <span class="hljs-attr">pw</span>: <span class="hljs-string">'Gengiskhan10@123'</span>,
  <span class="hljs-attr">courses</span>: [
    {
      <span class="hljs-attr">courseName</span>: <span class="hljs-string">'Dzongkha Communication'</span>,
      <span class="hljs-attr">courseLink</span>: <span class="hljs-string">'https://vle.gcit.edu.bt/course/view.php?id=174'</span>,
      <span class="hljs-attr">assignments</span>: []
    },
    {
      <span class="hljs-attr">courseName</span>: <span class="hljs-string">'Front End Web Development I'</span>,
      <span class="hljs-attr">courseLink</span>: <span class="hljs-string">'https://vle.gcit.edu.bt/course/view.php?id=211'</span>,
      <span class="hljs-attr">assignments</span>: []
    },
    {
      <span class="hljs-attr">courseName</span>: <span class="hljs-string">'Fundamentals of Computing'</span>,
      <span class="hljs-attr">courseLink</span>: <span class="hljs-string">'https://vle.gcit.edu.bt/course/view.php?id=212'</span>,
      <span class="hljs-attr">assignments</span>: []
    },
    {
      <span class="hljs-attr">courseName</span>: <span class="hljs-string">'Fundamentals of Programming'</span>,
      <span class="hljs-attr">courseLink</span>: <span class="hljs-string">'https://vle.gcit.edu.bt/course/view.php?id=139'</span>,
      <span class="hljs-attr">assignments</span>: []
    }
  ]
});
</code></div></div></pre><hr><h3><strong>2. Queries for Production</strong></h3><h4><strong>A. User Management</strong></h4><ol><li><p><strong>Find User by Email</strong><br>Retrieve the user's record using their email:</p><pre class="!overflow-visible"><div class="contain-inline-size rounded-md border-[0.5px] border-token-border-medium relative bg-token-sidebar-surface-primary dark:bg-gray-950"><div class="flex items-center text-token-text-secondary px-4 py-2 text-xs font-sans justify-between rounded-t-md h-9 bg-token-sidebar-surface-primary dark:bg-token-main-surface-secondary select-none">javascript</div><div class="sticky top-9 md:top-[5.75rem]"><div class="absolute bottom-0 right-2 flex h-9 items-center"><div class="flex items-center rounded bg-token-sidebar-surface-primary px-2 font-sans text-xs text-token-text-secondary dark:bg-token-main-surface-secondary"><span class="" data-state="closed"><button class="flex gap-1 items-center select-none py-1"><svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" class="icon-sm"><path fill-rule="evenodd" clip-rule="evenodd" d="M7 5C7 3.34315 8.34315 2 10 2H19C20.6569 2 22 3.34315 22 5V14C22 15.6569 20.6569 17 19 17H17V19C17 20.6569 15.6569 22 14 22H5C3.34315 22 2 20.6569 2 19V10C2 8.34315 3.34315 7 5 7H7V5ZM9 7H14C15.6569 7 17 8.34315 17 10V15H19C19.5523 15 20 14.5523 20 14V5C20 4.44772 19.5523 4 19 4H10C9.44772 4 9 4.44772 9 5V7ZM5 9C4.44772 9 4 9.44772 4 10V19C4 19.5523 4.44772 20 5 20H14C14.5523 20 15 19.5523 15 19V10C15 9.44772 14.5523 9 14 9H5Z" fill="currentColor"></path></svg>Copy code</button></span></div></div></div><div class="overflow-y-auto p-4" dir="ltr"><code class="!whitespace-pre hljs language-javascript">db.<span class="hljs-property">users</span>.<span class="hljs-title function_">findOne</span>({ <span class="hljs-attr">email</span>: <span class="hljs-string">'12240095.gcit@rub.edu.bt'</span> });
</code></div></div></pre></li><li><p><strong>Update User Password</strong><br>Change the user's password securely:</p><pre class="!overflow-visible"><div class="contain-inline-size rounded-md border-[0.5px] border-token-border-medium relative bg-token-sidebar-surface-primary dark:bg-gray-950"><div class="flex items-center text-token-text-secondary px-4 py-2 text-xs font-sans justify-between rounded-t-md h-9 bg-token-sidebar-surface-primary dark:bg-token-main-surface-secondary select-none">javascript</div><div class="sticky top-9 md:top-[5.75rem]"><div class="absolute bottom-0 right-2 flex h-9 items-center"><div class="flex items-center rounded bg-token-sidebar-surface-primary px-2 font-sans text-xs text-token-text-secondary dark:bg-token-main-surface-secondary"><span class="" data-state="closed"><button class="flex gap-1 items-center select-none py-1"><svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" class="icon-sm"><path fill-rule="evenodd" clip-rule="evenodd" d="M7 5C7 3.34315 8.34315 2 10 2H19C20.6569 2 22 3.34315 22 5V14C22 15.6569 20.6569 17 19 17H17V19C17 20.6569 15.6569 22 14 22H5C3.34315 22 2 20.6569 2 19V10C2 8.34315 3.34315 7 5 7H7V5ZM9 7H14C15.6569 7 17 8.34315 17 10V15H19C19.5523 15 20 14.5523 20 14V5C20 4.44772 19.5523 4 19 4H10C9.44772 4 9 4.44772 9 5V7ZM5 9C4.44772 9 4 9.44772 4 10V19C4 19.5523 4.44772 20 5 20H14C14.5523 20 15 19.5523 15 19V10C15 9.44772 14.5523 9 14 9H5Z" fill="currentColor"></path></svg>Copy code</button></span></div></div></div><div class="overflow-y-auto p-4" dir="ltr"><code class="!whitespace-pre hljs language-javascript">db.<span class="hljs-property">users</span>.<span class="hljs-title function_">updateOne</span>(
  { <span class="hljs-attr">email</span>: <span class="hljs-string">'12240095.gcit@rub.edu.bt'</span> },
  { <span class="hljs-attr">$set</span>: { <span class="hljs-attr">pw</span>: <span class="hljs-string">'NewSecurePassword@123'</span> } }
);
</code></div></div></pre></li></ol><hr><h4><strong>B. Course Management</strong></h4><ol start="3"><li><p><strong>Add a New Course for the User</strong><br>Add a new course to the user's record:</p><pre class="!overflow-visible"><div class="contain-inline-size rounded-md border-[0.5px] border-token-border-medium relative bg-token-sidebar-surface-primary dark:bg-gray-950"><div class="flex items-center text-token-text-secondary px-4 py-2 text-xs font-sans justify-between rounded-t-md h-9 bg-token-sidebar-surface-primary dark:bg-token-main-surface-secondary select-none">javascript</div><div class="sticky top-9 md:top-[5.75rem]"><div class="absolute bottom-0 right-2 flex h-9 items-center"><div class="flex items-center rounded bg-token-sidebar-surface-primary px-2 font-sans text-xs text-token-text-secondary dark:bg-token-main-surface-secondary"><span class="" data-state="closed"><button class="flex gap-1 items-center select-none py-1"><svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" class="icon-sm"><path fill-rule="evenodd" clip-rule="evenodd" d="M7 5C7 3.34315 8.34315 2 10 2H19C20.6569 2 22 3.34315 22 5V14C22 15.6569 20.6569 17 19 17H17V19C17 20.6569 15.6569 22 14 22H5C3.34315 22 2 20.6569 2 19V10C2 8.34315 3.34315 7 5 7H7V5ZM9 7H14C15.6569 7 17 8.34315 17 10V15H19C19.5523 15 20 14.5523 20 14V5C20 4.44772 19.5523 4 19 4H10C9.44772 4 9 4.44772 9 5V7ZM5 9C4.44772 9 4 9.44772 4 10V19C4 19.5523 4.44772 20 5 20H14C14.5523 20 15 19.5523 15 19V10C15 9.44772 14.5523 9 14 9H5Z" fill="currentColor"></path></svg>Copy code</button></span></div></div></div><div class="overflow-y-auto p-4" dir="ltr"><code class="!whitespace-pre hljs language-javascript">db.<span class="hljs-property">users</span>.<span class="hljs-title function_">updateOne</span>(
  { <span class="hljs-attr">email</span>: <span class="hljs-string">'12240095.gcit@rub.edu.bt'</span> },
  {
    <span class="hljs-attr">$push</span>: {
      <span class="hljs-attr">courses</span>: {
        <span class="hljs-attr">courseName</span>: <span class="hljs-string">'Modern Database Design'</span>,
        <span class="hljs-attr">courseLink</span>: <span class="hljs-string">'https://vle.gcit.edu.bt/course/view.php?id=213'</span>,
        <span class="hljs-attr">assignments</span>: []
      }
    }
  }
);
</code></div></div></pre></li><li><p><strong>Get All Courses for a User</strong><br>Retrieve all courses associated with the user:</p><pre class="!overflow-visible"><div class="contain-inline-size rounded-md border-[0.5px] border-token-border-medium relative bg-token-sidebar-surface-primary dark:bg-gray-950"><div class="flex items-center text-token-text-secondary px-4 py-2 text-xs font-sans justify-between rounded-t-md h-9 bg-token-sidebar-surface-primary dark:bg-token-main-surface-secondary select-none">javascript</div><div class="sticky top-9 md:top-[5.75rem]"><div class="absolute bottom-0 right-2 flex h-9 items-center"><div class="flex items-center rounded bg-token-sidebar-surface-primary px-2 font-sans text-xs text-token-text-secondary dark:bg-token-main-surface-secondary"><span class="" data-state="closed"><button class="flex gap-1 items-center select-none py-1"><svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" class="icon-sm"><path fill-rule="evenodd" clip-rule="evenodd" d="M7 5C7 3.34315 8.34315 2 10 2H19C20.6569 2 22 3.34315 22 5V14C22 15.6569 20.6569 17 19 17H17V19C17 20.6569 15.6569 22 14 22H5C3.34315 22 2 20.6569 2 19V10C2 8.34315 3.34315 7 5 7H7V5ZM9 7H14C15.6569 7 17 8.34315 17 10V15H19C19.5523 15 20 14.5523 20 14V5C20 4.44772 19.5523 4 19 4H10C9.44772 4 9 4.44772 9 5V7ZM5 9C4.44772 9 4 9.44772 4 10V19C4 19.5523 4.44772 20 5 20H14C14.5523 20 15 19.5523 15 19V10C15 9.44772 14.5523 9 14 9H5Z" fill="currentColor"></path></svg>Copy code</button></span></div></div></div><div class="overflow-y-auto p-4" dir="ltr"><code class="!whitespace-pre hljs language-javascript">db.<span class="hljs-property">users</span>.<span class="hljs-title function_">find</span>(
  { <span class="hljs-attr">email</span>: <span class="hljs-string">'12240095.gcit@rub.edu.bt'</span> },
  { <span class="hljs-attr">courses</span>: <span class="hljs-number">1</span>, <span class="hljs-attr">_id</span>: <span class="hljs-number">0</span> }
);
</code></div></div></pre></li></ol><hr><h4><strong>C. Assignment Management</strong></h4><ol start="5"><li><p><strong>Add an Assignment to a Specific Course</strong><br>Add an assignment to the "Front End Web Development I" course:</p><pre class="!overflow-visible"><div class="contain-inline-size rounded-md border-[0.5px] border-token-border-medium relative bg-token-sidebar-surface-primary dark:bg-gray-950"><div class="flex items-center text-token-text-secondary px-4 py-2 text-xs font-sans justify-between rounded-t-md h-9 bg-token-sidebar-surface-primary dark:bg-token-main-surface-secondary select-none">javascript</div><div class="sticky top-9 md:top-[5.75rem]"><div class="absolute bottom-0 right-2 flex h-9 items-center"><div class="flex items-center rounded bg-token-sidebar-surface-primary px-2 font-sans text-xs text-token-text-secondary dark:bg-token-main-surface-secondary"><span class="" data-state="closed"><button class="flex gap-1 items-center select-none py-1"><svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" class="icon-sm"><path fill-rule="evenodd" clip-rule="evenodd" d="M7 5C7 3.34315 8.34315 2 10 2H19C20.6569 2 22 3.34315 22 5V14C22 15.6569 20.6569 17 19 17H17V19C17 20.6569 15.6569 22 14 22H5C3.34315 22 2 20.6569 2 19V10C2 8.34315 3.34315 7 5 7H7V5ZM9 7H14C15.6569 7 17 8.34315 17 10V15H19C19.5523 15 20 14.5523 20 14V5C20 4.44772 19.5523 4 19 4H10C9.44772 4 9 4.44772 9 5V7ZM5 9C4.44772 9 4 9.44772 4 10V19C4 19.5523 4.44772 20 5 20H14C14.5523 20 15 19.5523 15 19V10C15 9.44772 14.5523 9 14 9H5Z" fill="currentColor"></path></svg>Copy code</button></span></div></div></div><div class="overflow-y-auto p-4" dir="ltr"><code class="!whitespace-pre hljs language-javascript">db.<span class="hljs-property">users</span>.<span class="hljs-title function_">updateOne</span>(
  {
    <span class="hljs-attr">email</span>: <span class="hljs-string">'12240095.gcit@rub.edu.bt'</span>,
    <span class="hljs-string">'courses.courseName'</span>: <span class="hljs-string">'Front End Web Development I'</span>
  },
  {
    <span class="hljs-attr">$push</span>: {
      <span class="hljs-string">'courses.$.assignments'</span>: {
        <span class="hljs-attr">title</span>: <span class="hljs-string">'HTML Basics Assignment'</span>,
        <span class="hljs-attr">assignmentLink</span>: <span class="hljs-string">'https://vle.gcit.edu.bt/mod/assign/view.php?id=3001'</span>,
        <span class="hljs-attr">due</span>: <span class="hljs-string">'25 November 2024'</span>,
        <span class="hljs-attr">date</span>: <span class="hljs-string">'November 25, 2024 23:59:00'</span>,
        <span class="hljs-attr">longStat</span>: <span class="hljs-string">'Not yet submitted'</span>,
        <span class="hljs-attr">stat</span>: <span class="hljs-string">'not submitted'</span>
      }
    }
  }
);
</code></div></div></pre></li><li><p><strong>Retrieve Assignments for a Specific Course</strong><br>Get all assignments for "Fundamentals of Programming":</p><pre class="!overflow-visible"><div class="contain-inline-size rounded-md border-[0.5px] border-token-border-medium relative bg-token-sidebar-surface-primary dark:bg-gray-950"><div class="flex items-center text-token-text-secondary px-4 py-2 text-xs font-sans justify-between rounded-t-md h-9 bg-token-sidebar-surface-primary dark:bg-token-main-surface-secondary select-none">javascript</div><div class="sticky top-9 md:top-[5.75rem]"><div class="absolute bottom-0 right-2 flex h-9 items-center"><div class="flex items-center rounded bg-token-sidebar-surface-primary px-2 font-sans text-xs text-token-text-secondary dark:bg-token-main-surface-secondary"><span class="" data-state="closed"><button class="flex gap-1 items-center select-none py-1"><svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" class="icon-sm"><path fill-rule="evenodd" clip-rule="evenodd" d="M7 5C7 3.34315 8.34315 2 10 2H19C20.6569 2 22 3.34315 22 5V14C22 15.6569 20.6569 17 19 17H17V19C17 20.6569 15.6569 22 14 22H5C3.34315 22 2 20.6569 2 19V10C2 8.34315 3.34315 7 5 7H7V5ZM9 7H14C15.6569 7 17 8.34315 17 10V15H19C19.5523 15 20 14.5523 20 14V5C20 4.44772 19.5523 4 19 4H10C9.44772 4 9 4.44772 9 5V7ZM5 9C4.44772 9 4 9.44772 4 10V19C4 19.5523 4.44772 20 5 20H14C14.5523 20 15 19.5523 15 19V10C15 9.44772 14.5523 9 14 9H5Z" fill="currentColor"></path></svg>Copy code</button></span></div></div></div><div class="overflow-y-auto p-4" dir="ltr"><code class="!whitespace-pre hljs language-javascript">db.<span class="hljs-property">users</span>.<span class="hljs-title function_">aggregate</span>([
  { <span class="hljs-attr">$match</span>: { <span class="hljs-attr">email</span>: <span class="hljs-string">'12240095.gcit@rub.edu.bt'</span> } },
  { <span class="hljs-attr">$unwind</span>: <span class="hljs-string">'$courses'</span> },
  { <span class="hljs-attr">$match</span>: { <span class="hljs-string">'courses.courseName'</span>: <span class="hljs-string">'Fundamentals of Programming'</span> } },
  { <span class="hljs-attr">$project</span>: { <span class="hljs-attr">_id</span>: <span class="hljs-number">0</span>, <span class="hljs-string">'courses.assignments'</span>: <span class="hljs-number">1</span> } }
]);
</code></div></div></pre></li><li><p><strong>Update Assignment Submission Status</strong><br>Mark the assignment as "submitted" in "Dzongkha Communication":</p><pre class="!overflow-visible"><div class="contain-inline-size rounded-md border-[0.5px] border-token-border-medium relative bg-token-sidebar-surface-primary dark:bg-gray-950"><div class="flex items-center text-token-text-secondary px-4 py-2 text-xs font-sans justify-between rounded-t-md h-9 bg-token-sidebar-surface-primary dark:bg-token-main-surface-secondary select-none">javascript</div><div class="sticky top-9 md:top-[5.75rem]"><div class="absolute bottom-0 right-2 flex h-9 items-center"><div class="flex items-center rounded bg-token-sidebar-surface-primary px-2 font-sans text-xs text-token-text-secondary dark:bg-token-main-surface-secondary"><span class="" data-state="closed"><button class="flex gap-1 items-center select-none py-1"><svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" class="icon-sm"><path fill-rule="evenodd" clip-rule="evenodd" d="M7 5C7 3.34315 8.34315 2 10 2H19C20.6569 2 22 3.34315 22 5V14C22 15.6569 20.6569 17 19 17H17V19C17 20.6569 15.6569 22 14 22H5C3.34315 22 2 20.6569 2 19V10C2 8.34315 3.34315 7 5 7H7V5ZM9 7H14C15.6569 7 17 8.34315 17 10V15H19C19.5523 15 20 14.5523 20 14V5C20 4.44772 19.5523 4 19 4H10C9.44772 4 9 4.44772 9 5V7ZM5 9C4.44772 9 4 9.44772 4 10V19C4 19.5523 4.44772 20 5 20H14C14.5523 20 15 19.5523 15 19V10C15 9.44772 14.5523 9 14 9H5Z" fill="currentColor"></path></svg>Copy code</button></span></div></div></div><div class="overflow-y-auto p-4" dir="ltr"><code class="!whitespace-pre hljs language-javascript">db.<span class="hljs-property">users</span>.<span class="hljs-title function_">updateOne</span>(
  {
    <span class="hljs-attr">email</span>: <span class="hljs-string">'12240095.gcit@rub.edu.bt'</span>,
    <span class="hljs-string">'courses.courseName'</span>: <span class="hljs-string">'Dzongkha Communication'</span>,
    <span class="hljs-string">'courses.assignments.title'</span>: <span class="hljs-string">'Assignment 1'</span>
  },
  { <span class="hljs-attr">$set</span>: { <span class="hljs-string">'courses.$.assignments.$[assignment].stat'</span>: <span class="hljs-string">'submitted'</span> } },
  { <span class="hljs-attr">arrayFilters</span>: [{ <span class="hljs-string">'assignment.title'</span>: <span class="hljs-string">'Assignment 1'</span> }] }
);
</code></div></div></pre></li><li><p><strong>Remove an Assignment from a Course</strong><br>Delete an assignment from "Fundamentals of Computing":</p><pre class="!overflow-visible"><div class="contain-inline-size rounded-md border-[0.5px] border-token-border-medium relative bg-token-sidebar-surface-primary dark:bg-gray-950"><div class="flex items-center text-token-text-secondary px-4 py-2 text-xs font-sans justify-between rounded-t-md h-9 bg-token-sidebar-surface-primary dark:bg-token-main-surface-secondary select-none">javascript</div><div class="sticky top-9 md:top-[5.75rem]"><div class="absolute bottom-0 right-2 flex h-9 items-center"><div class="flex items-center rounded bg-token-sidebar-surface-primary px-2 font-sans text-xs text-token-text-secondary dark:bg-token-main-surface-secondary"><span class="" data-state="closed"><button class="flex gap-1 items-center select-none py-1"><svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" class="icon-sm"><path fill-rule="evenodd" clip-rule="evenodd" d="M7 5C7 3.34315 8.34315 2 10 2H19C20.6569 2 22 3.34315 22 5V14C22 15.6569 20.6569 17 19 17H17V19C17 20.6569 15.6569 22 14 22H5C3.34315 22 2 20.6569 2 19V10C2 8.34315 3.34315 7 5 7H7V5ZM9 7H14C15.6569 7 17 8.34315 17 10V15H19C19.5523 15 20 14.5523 20 14V5C20 4.44772 19.5523 4 19 4H10C9.44772 4 9 4.44772 9 5V7ZM5 9C4.44772 9 4 9.44772 4 10V19C4 19.5523 4.44772 20 5 20H14C14.5523 20 15 19.5523 15 19V10C15 9.44772 14.5523 9 14 9H5Z" fill="currentColor"></path></svg>Copy code</button></span></div></div></div><div class="overflow-y-auto p-4" dir="ltr"><code class="!whitespace-pre hljs language-javascript">db.<span class="hljs-property">users</span>.<span class="hljs-title function_">updateOne</span>(
  {
    <span class="hljs-attr">email</span>: <span class="hljs-string">'12240095.gcit@rub.edu.bt'</span>,
    <span class="hljs-string">'courses.courseName'</span>: <span class="hljs-string">'Fundamentals of Computing'</span>
  },
  { <span class="hljs-attr">$pull</span>: { <span class="hljs-string">'courses.$.assignments'</span>: { <span class="hljs-attr">title</span>: <span class="hljs-string">'Old Assignment'</span> } } }
);
</code></div></div></pre></li></ol><hr><h4><strong>D. Analytics and Reporting</strong></h4><ol start="9"><li><p><strong>Count the Total Assignments for Each Course</strong><br>Get a count of assignments in all courses for the user:</p><pre class="!overflow-visible"><div class="contain-inline-size rounded-md border-[0.5px] border-token-border-medium relative bg-token-sidebar-surface-primary dark:bg-gray-950"><div class="flex items-center text-token-text-secondary px-4 py-2 text-xs font-sans justify-between rounded-t-md h-9 bg-token-sidebar-surface-primary dark:bg-token-main-surface-secondary select-none">javascript</div><div class="sticky top-9 md:top-[5.75rem]"><div class="absolute bottom-0 right-2 flex h-9 items-center"><div class="flex items-center rounded bg-token-sidebar-surface-primary px-2 font-sans text-xs text-token-text-secondary dark:bg-token-main-surface-secondary"><span class="" data-state="closed"><button class="flex gap-1 items-center select-none py-1"><svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" class="icon-sm"><path fill-rule="evenodd" clip-rule="evenodd" d="M7 5C7 3.34315 8.34315 2 10 2H19C20.6569 2 22 3.34315 22 5V14C22 15.6569 20.6569 17 19 17H17V19C17 20.6569 15.6569 22 14 22H5C3.34315 22 2 20.6569 2 19V10C2 8.34315 3.34315 7 5 7H7V5ZM9 7H14C15.6569 7 17 8.34315 17 10V15H19C19.5523 15 20 14.5523 20 14V5C20 4.44772 19.5523 4 19 4H10C9.44772 4 9 4.44772 9 5V7ZM5 9C4.44772 9 4 9.44772 4 10V19C4 19.5523 4.44772 20 5 20H14C14.5523 20 15 19.5523 15 19V10C15 9.44772 14.5523 9 14 9H5Z" fill="currentColor"></path></svg>Copy code</button></span></div></div></div><div class="overflow-y-auto p-4" dir="ltr"><code class="!whitespace-pre hljs language-javascript">db.<span class="hljs-property">users</span>.<span class="hljs-title function_">aggregate</span>([
  { <span class="hljs-attr">$match</span>: { <span class="hljs-attr">email</span>: <span class="hljs-string">'12240095.gcit@rub.edu.bt'</span> } },
  { <span class="hljs-attr">$unwind</span>: <span class="hljs-string">'$courses'</span> },
  {
    <span class="hljs-attr">$project</span>: {
      <span class="hljs-attr">courseName</span>: <span class="hljs-string">'$courses.courseName'</span>,
      <span class="hljs-attr">totalAssignments</span>: { <span class="hljs-attr">$size</span>: <span class="hljs-string">'$courses.assignments'</span> }
    }
  }
]);
</code></div></div></pre></li><li><p><strong>Find Overdue Assignments Across All Courses</strong><br>Retrieve assignments past their due date:</p><pre class="!overflow-visible"><div class="contain-inline-size rounded-md border-[0.5px] border-token-border-medium relative bg-token-sidebar-surface-primary dark:bg-gray-950"><div class="flex items-center text-token-text-secondary px-4 py-2 text-xs font-sans justify-between rounded-t-md h-9 bg-token-sidebar-surface-primary dark:bg-token-main-surface-secondary select-none">javascript</div><div class="sticky top-9 md:top-[5.75rem]"><div class="absolute bottom-0 right-2 flex h-9 items-center"><div class="flex items-center rounded bg-token-sidebar-surface-primary px-2 font-sans text-xs text-token-text-secondary dark:bg-token-main-surface-secondary"><span class="" data-state="closed"><button class="flex gap-1 items-center select-none py-1"><svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" class="icon-sm"><path fill-rule="evenodd" clip-rule="evenodd" d="M7 5C7 3.34315 8.34315 2 10 2H19C20.6569 2 22 3.34315 22 5V14C22 15.6569 20.6569 17 19 17H17V19C17 20.6569 15.6569 22 14 22H5C3.34315 22 2 20.6569 2 19V10C2 8.34315 3.34315 7 5 7H7V5ZM9 7H14C15.6569 7 17 8.34315 17 10V15H19C19.5523 15 20 14.5523 20 14V5C20 4.44772 19.5523 4 19 4H10C9.44772 4 9 4.44772 9 5V7ZM5 9C4.44772 9 4 9.44772 4 10V19C4 19.5523 4.44772 20 5 20H14C14.5523 20 15 19.5523 15 19V10C15 9.44772 14.5523 9 14 9H5Z" fill="currentColor"></path></svg>Copy code</button></span></div></div></div><div class="overflow-y-auto p-4" dir="ltr"><code class="!whitespace-pre hljs language-javascript">db.<span class="hljs-property">users</span>.<span class="hljs-title function_">aggregate</span>([
  { <span class="hljs-attr">$match</span>: { <span class="hljs-attr">email</span>: <span class="hljs-string">'12240095.gcit@rub.edu.bt'</span> } },
  { <span class="hljs-attr">$unwind</span>: <span class="hljs-string">'$courses'</span> },
  { <span class="hljs-attr">$unwind</span>: <span class="hljs-string">'$courses.assignments'</span> },
  {
    <span class="hljs-attr">$match</span>: {
      <span class="hljs-string">'courses.assignments.date'</span>: { <span class="hljs-attr">$lt</span>: <span class="hljs-title class_">ISODate</span>(<span class="hljs-keyword">new</span> <span class="hljs-title class_">Date</span>().<span class="hljs-title function_">toISOString</span>()) },
      <span class="hljs-string">'courses.assignments.stat'</span>: <span class="hljs-string">'not submitted'</span>
    }
  },
  {
    <span class="hljs-attr">$project</span>: {
      <span class="hljs-attr">_id</span>: <span class="hljs-number">0</span>,
      <span class="hljs-attr">courseName</span>: <span class="hljs-string">'$courses.courseName'</span>,
      <span class="hljs-attr">title</span>: <span class="hljs-string">'$courses.assignments.title'</span>,
      <span class="hljs-attr">due</span>: <span class="hljs-string">'$courses.assignments.due'</span>
    }
  }
]);
</code></div></div></pre></li></ol><hr><p>These queries are designed to support a full range of user, course, and assignment management functionalities in a real-world production environment. Let me know if you need further optimizations or additions!</p></div>

<div class="markdown prose w-full break-words dark:prose-invert dark"><p>Yes, there are additional NoSQL queries that can handle more complex scenarios or specialized operations in production. Below is an extended set of queries based on potential use cases.</p><hr><h3><strong>E. Advanced Course and Assignment Queries</strong></h3><h4><strong>11. Retrieve Courses Without Any Assignments</strong></h4><p>Identify courses for a user that do not have any assignments:</p><pre class="!overflow-visible"><div class="contain-inline-size rounded-md border-[0.5px] border-token-border-medium relative bg-token-sidebar-surface-primary dark:bg-gray-950"><div class="flex items-center text-token-text-secondary px-4 py-2 text-xs font-sans justify-between rounded-t-md h-9 bg-token-sidebar-surface-primary dark:bg-token-main-surface-secondary select-none">javascript</div><div class="sticky top-9 md:top-[5.75rem]"><div class="absolute bottom-0 right-2 flex h-9 items-center"><div class="flex items-center rounded bg-token-sidebar-surface-primary px-2 font-sans text-xs text-token-text-secondary dark:bg-token-main-surface-secondary"><span class="" data-state="closed"><button class="flex gap-1 items-center select-none py-1"><svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" class="icon-sm"><path fill-rule="evenodd" clip-rule="evenodd" d="M7 5C7 3.34315 8.34315 2 10 2H19C20.6569 2 22 3.34315 22 5V14C22 15.6569 20.6569 17 19 17H17V19C17 20.6569 15.6569 22 14 22H5C3.34315 22 2 20.6569 2 19V10C2 8.34315 3.34315 7 5 7H7V5ZM9 7H14C15.6569 7 17 8.34315 17 10V15H19C19.5523 15 20 14.5523 20 14V5C20 4.44772 19.5523 4 19 4H10C9.44772 4 9 4.44772 9 5V7ZM5 9C4.44772 9 4 9.44772 4 10V19C4 19.5523 4.44772 20 5 20H14C14.5523 20 15 19.5523 15 19V10C15 9.44772 14.5523 9 14 9H5Z" fill="currentColor"></path></svg>Copy code</button></span></div></div></div><div class="overflow-y-auto p-4" dir="ltr"><code class="!whitespace-pre hljs language-javascript">db.<span class="hljs-property">users</span>.<span class="hljs-title function_">aggregate</span>([
  { <span class="hljs-attr">$match</span>: { <span class="hljs-attr">email</span>: <span class="hljs-string">'12240095.gcit@rub.edu.bt'</span> } },
  { <span class="hljs-attr">$unwind</span>: <span class="hljs-string">'$courses'</span> },
  { <span class="hljs-attr">$match</span>: { <span class="hljs-string">'courses.assignments'</span>: { <span class="hljs-attr">$size</span>: <span class="hljs-number">0</span> } } },
  { <span class="hljs-attr">$project</span>: { <span class="hljs-attr">_id</span>: <span class="hljs-number">0</span>, <span class="hljs-attr">courseName</span>: <span class="hljs-string">'$courses.courseName'</span> } }
]);
</code></div></div></pre><h4><strong>12. Update All Assignments with a Status Change</strong></h4><p>Change the status of all assignments for "Front End Web Development I" to "reviewed":</p><pre class="!overflow-visible"><div class="contain-inline-size rounded-md border-[0.5px] border-token-border-medium relative bg-token-sidebar-surface-primary dark:bg-gray-950"><div class="flex items-center text-token-text-secondary px-4 py-2 text-xs font-sans justify-between rounded-t-md h-9 bg-token-sidebar-surface-primary dark:bg-token-main-surface-secondary select-none">javascript</div><div class="sticky top-9 md:top-[5.75rem]"><div class="absolute bottom-0 right-2 flex h-9 items-center"><div class="flex items-center rounded bg-token-sidebar-surface-primary px-2 font-sans text-xs text-token-text-secondary dark:bg-token-main-surface-secondary"><span class="" data-state="closed"><button class="flex gap-1 items-center select-none py-1"><svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" class="icon-sm"><path fill-rule="evenodd" clip-rule="evenodd" d="M7 5C7 3.34315 8.34315 2 10 2H19C20.6569 2 22 3.34315 22 5V14C22 15.6569 20.6569 17 19 17H17V19C17 20.6569 15.6569 22 14 22H5C3.34315 22 2 20.6569 2 19V10C2 8.34315 3.34315 7 5 7H7V5ZM9 7H14C15.6569 7 17 8.34315 17 10V15H19C19.5523 15 20 14.5523 20 14V5C20 4.44772 19.5523 4 19 4H10C9.44772 4 9 4.44772 9 5V7ZM5 9C4.44772 9 4 9.44772 4 10V19C4 19.5523 4.44772 20 5 20H14C14.5523 20 15 19.5523 15 19V10C15 9.44772 14.5523 9 14 9H5Z" fill="currentColor"></path></svg>Copy code</button></span></div></div></div><div class="overflow-y-auto p-4" dir="ltr"><code class="!whitespace-pre hljs language-javascript">db.<span class="hljs-property">users</span>.<span class="hljs-title function_">updateOne</span>(
  { <span class="hljs-attr">email</span>: <span class="hljs-string">'12240095.gcit@rub.edu.bt'</span>, <span class="hljs-string">'courses.courseName'</span>: <span class="hljs-string">'Front End Web Development I'</span> },
  { <span class="hljs-attr">$set</span>: { <span class="hljs-string">'courses.$.assignments.$[].stat'</span>: <span class="hljs-string">'reviewed'</span> } }
);
</code></div></div></pre><h4><strong>13. Bulk Insert Assignments for a Course</strong></h4><p>Add multiple assignments to a single course:</p><pre class="!overflow-visible"><div class="contain-inline-size rounded-md border-[0.5px] border-token-border-medium relative bg-token-sidebar-surface-primary dark:bg-gray-950"><div class="flex items-center text-token-text-secondary px-4 py-2 text-xs font-sans justify-between rounded-t-md h-9 bg-token-sidebar-surface-primary dark:bg-token-main-surface-secondary select-none">javascript</div><div class="sticky top-9 md:top-[5.75rem]"><div class="absolute bottom-0 right-2 flex h-9 items-center"><div class="flex items-center rounded bg-token-sidebar-surface-primary px-2 font-sans text-xs text-token-text-secondary dark:bg-token-main-surface-secondary"><span class="" data-state="closed"><button class="flex gap-1 items-center select-none py-1"><svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" class="icon-sm"><path fill-rule="evenodd" clip-rule="evenodd" d="M7 5C7 3.34315 8.34315 2 10 2H19C20.6569 2 22 3.34315 22 5V14C22 15.6569 20.6569 17 19 17H17V19C17 20.6569 15.6569 22 14 22H5C3.34315 22 2 20.6569 2 19V10C2 8.34315 3.34315 7 5 7H7V5ZM9 7H14C15.6569 7 17 8.34315 17 10V15H19C19.5523 15 20 14.5523 20 14V5C20 4.44772 19.5523 4 19 4H10C9.44772 4 9 4.44772 9 5V7ZM5 9C4.44772 9 4 9.44772 4 10V19C4 19.5523 4.44772 20 5 20H14C14.5523 20 15 19.5523 15 19V10C15 9.44772 14.5523 9 14 9H5Z" fill="currentColor"></path></svg>Copy code</button></span></div></div></div><div class="overflow-y-auto p-4" dir="ltr"><code class="!whitespace-pre hljs language-javascript">db.<span class="hljs-property">users</span>.<span class="hljs-title function_">updateOne</span>(
  { <span class="hljs-attr">email</span>: <span class="hljs-string">'12240095.gcit@rub.edu.bt'</span>, <span class="hljs-string">'courses.courseName'</span>: <span class="hljs-string">'Dzongkha Communication'</span> },
  {
    <span class="hljs-attr">$push</span>: {
      <span class="hljs-string">'courses.$.assignments'</span>: {
        <span class="hljs-attr">$each</span>: [
          {
            <span class="hljs-attr">title</span>: <span class="hljs-string">'Assignment 1'</span>,
            <span class="hljs-attr">assignmentLink</span>: <span class="hljs-string">'https://vle.gcit.edu.bt/mod/assign/view.php?id=2001'</span>,
            <span class="hljs-attr">due</span>: <span class="hljs-string">'30 November 2024'</span>,
            <span class="hljs-attr">date</span>: <span class="hljs-string">'November 30, 2024 23:59:00'</span>,
            <span class="hljs-attr">longStat</span>: <span class="hljs-string">'Not yet submitted'</span>,
            <span class="hljs-attr">stat</span>: <span class="hljs-string">'not submitted'</span>
          },
          {
            <span class="hljs-attr">title</span>: <span class="hljs-string">'Assignment 2'</span>,
            <span class="hljs-attr">assignmentLink</span>: <span class="hljs-string">'https://vle.gcit.edu.bt/mod/assign/view.php?id=2002'</span>,
            <span class="hljs-attr">due</span>: <span class="hljs-string">'15 December 2024'</span>,
            <span class="hljs-attr">date</span>: <span class="hljs-string">'December 15, 2024 23:59:00'</span>,
            <span class="hljs-attr">longStat</span>: <span class="hljs-string">'Not yet submitted'</span>,
            <span class="hljs-attr">stat</span>: <span class="hljs-string">'not submitted'</span>
          }
        ]
      }
    }
  }
);
</code></div></div></pre><h4><strong>14. Fetch Assignments with a Specific Keyword</strong></h4><p>Retrieve assignments containing the keyword "Programming":</p><pre class="!overflow-visible"><div class="contain-inline-size rounded-md border-[0.5px] border-token-border-medium relative bg-token-sidebar-surface-primary dark:bg-gray-950"><div class="flex items-center text-token-text-secondary px-4 py-2 text-xs font-sans justify-between rounded-t-md h-9 bg-token-sidebar-surface-primary dark:bg-token-main-surface-secondary select-none">javascript</div><div class="sticky top-9 md:top-[5.75rem]"><div class="absolute bottom-0 right-2 flex h-9 items-center"><div class="flex items-center rounded bg-token-sidebar-surface-primary px-2 font-sans text-xs text-token-text-secondary dark:bg-token-main-surface-secondary"><span class="" data-state="closed"><button class="flex gap-1 items-center select-none py-1"><svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" class="icon-sm"><path fill-rule="evenodd" clip-rule="evenodd" d="M7 5C7 3.34315 8.34315 2 10 2H19C20.6569 2 22 3.34315 22 5V14C22 15.6569 20.6569 17 19 17H17V19C17 20.6569 15.6569 22 14 22H5C3.34315 22 2 20.6569 2 19V10C2 8.34315 3.34315 7 5 7H7V5ZM9 7H14C15.6569 7 17 8.34315 17 10V15H19C19.5523 15 20 14.5523 20 14V5C20 4.44772 19.5523 4 19 4H10C9.44772 4 9 4.44772 9 5V7ZM5 9C4.44772 9 4 9.44772 4 10V19C4 19.5523 4.44772 20 5 20H14C14.5523 20 15 19.5523 15 19V10C15 9.44772 14.5523 9 14 9H5Z" fill="currentColor"></path></svg>Copy code</button></span></div></div></div><div class="overflow-y-auto p-4" dir="ltr"><code class="!whitespace-pre hljs language-javascript">db.<span class="hljs-property">users</span>.<span class="hljs-title function_">aggregate</span>([
  { <span class="hljs-attr">$match</span>: { <span class="hljs-attr">email</span>: <span class="hljs-string">'12240095.gcit@rub.edu.bt'</span> } },
  { <span class="hljs-attr">$unwind</span>: <span class="hljs-string">'$courses'</span> },
  { <span class="hljs-attr">$unwind</span>: <span class="hljs-string">'$courses.assignments'</span> },
  { <span class="hljs-attr">$match</span>: { <span class="hljs-string">'courses.assignments.title'</span>: { <span class="hljs-attr">$regex</span>: <span class="hljs-string">'Programming'</span>, <span class="hljs-attr">$options</span>: <span class="hljs-string">'i'</span> } } },
  {
    <span class="hljs-attr">$project</span>: {
      <span class="hljs-attr">_id</span>: <span class="hljs-number">0</span>,
      <span class="hljs-attr">courseName</span>: <span class="hljs-string">'$courses.courseName'</span>,
      <span class="hljs-attr">title</span>: <span class="hljs-string">'$courses.assignments.title'</span>,
      <span class="hljs-attr">due</span>: <span class="hljs-string">'$courses.assignments.due'</span>
    }
  }
]);
</code></div></div></pre><hr><h3><strong>F. Historical Data and Audit Queries</strong></h3><h4><strong>15. Track Assignment Submission Time Trends</strong></h4><p>Aggregate average submission times (early, on-time, late) for analysis:</p><pre class="!overflow-visible"><div class="contain-inline-size rounded-md border-[0.5px] border-token-border-medium relative bg-token-sidebar-surface-primary dark:bg-gray-950"><div class="flex items-center text-token-text-secondary px-4 py-2 text-xs font-sans justify-between rounded-t-md h-9 bg-token-sidebar-surface-primary dark:bg-token-main-surface-secondary select-none">javascript</div><div class="sticky top-9 md:top-[5.75rem]"><div class="absolute bottom-0 right-2 flex h-9 items-center"><div class="flex items-center rounded bg-token-sidebar-surface-primary px-2 font-sans text-xs text-token-text-secondary dark:bg-token-main-surface-secondary"><span class="" data-state="closed"><button class="flex gap-1 items-center select-none py-1"><svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" class="icon-sm"><path fill-rule="evenodd" clip-rule="evenodd" d="M7 5C7 3.34315 8.34315 2 10 2H19C20.6569 2 22 3.34315 22 5V14C22 15.6569 20.6569 17 19 17H17V19C17 20.6569 15.6569 22 14 22H5C3.34315 22 2 20.6569 2 19V10C2 8.34315 3.34315 7 5 7H7V5ZM9 7H14C15.6569 7 17 8.34315 17 10V15H19C19.5523 15 20 14.5523 20 14V5C20 4.44772 19.5523 4 19 4H10C9.44772 4 9 4.44772 9 5V7ZM5 9C4.44772 9 4 9.44772 4 10V19C4 19.5523 4.44772 20 5 20H14C14.5523 20 15 19.5523 15 19V10C15 9.44772 14.5523 9 14 9H5Z" fill="currentColor"></path></svg>Copy code</button></span></div></div></div><div class="overflow-y-auto p-4" dir="ltr"><code class="!whitespace-pre hljs language-javascript">db.<span class="hljs-property">users</span>.<span class="hljs-title function_">aggregate</span>([
  { <span class="hljs-attr">$match</span>: { <span class="hljs-attr">email</span>: <span class="hljs-string">'12240095.gcit@rub.edu.bt'</span> } },
  { <span class="hljs-attr">$unwind</span>: <span class="hljs-string">'$courses'</span> },
  { <span class="hljs-attr">$unwind</span>: <span class="hljs-string">'$courses.assignments'</span> },
  {
    <span class="hljs-attr">$group</span>: {
      <span class="hljs-attr">_id</span>: <span class="hljs-string">'$courses.assignments.stat'</span>,
      <span class="hljs-attr">averageEarlyTime</span>: { <span class="hljs-attr">$avg</span>: { <span class="hljs-attr">$cond</span>: [{ <span class="hljs-attr">$regexMatch</span>: { <span class="hljs-attr">input</span>: <span class="hljs-string">'$courses.assignments.longStat'</span>, <span class="hljs-attr">regex</span>: <span class="hljs-regexp">/early/</span> } }, <span class="hljs-number">1</span>, <span class="hljs-number">0</span>] } },
      <span class="hljs-attr">averageLateTime</span>: { <span class="hljs-attr">$avg</span>: { <span class="hljs-attr">$cond</span>: [{ <span class="hljs-attr">$regexMatch</span>: { <span class="hljs-attr">input</span>: <span class="hljs-string">'$courses.assignments.longStat'</span>, <span class="hljs-attr">regex</span>: <span class="hljs-regexp">/late/</span> } }, <span class="hljs-number">1</span>, <span class="hljs-number">0</span>] } }
    }
  }
]);
</code></div></div></pre><h4><strong>16. Generate a Comprehensive Report of All Data</strong></h4><p>Retrieve a full user record, including detailed assignment data:</p><pre class="!overflow-visible"><div class="contain-inline-size rounded-md border-[0.5px] border-token-border-medium relative bg-token-sidebar-surface-primary dark:bg-gray-950"><div class="flex items-center text-token-text-secondary px-4 py-2 text-xs font-sans justify-between rounded-t-md h-9 bg-token-sidebar-surface-primary dark:bg-token-main-surface-secondary select-none">javascript</div><div class="sticky top-9 md:top-[5.75rem]"><div class="absolute bottom-0 right-2 flex h-9 items-center"><div class="flex items-center rounded bg-token-sidebar-surface-primary px-2 font-sans text-xs text-token-text-secondary dark:bg-token-main-surface-secondary"><span class="" data-state="closed"><button class="flex gap-1 items-center select-none py-1"><svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" class="icon-sm"><path fill-rule="evenodd" clip-rule="evenodd" d="M7 5C7 3.34315 8.34315 2 10 2H19C20.6569 2 22 3.34315 22 5V14C22 15.6569 20.6569 17 19 17H17V19C17 20.6569 15.6569 22 14 22H5C3.34315 22 2 20.6569 2 19V10C2 8.34315 3.34315 7 5 7H7V5ZM9 7H14C15.6569 7 17 8.34315 17 10V15H19C19.5523 15 20 14.5523 20 14V5C20 4.44772 19.5523 4 19 4H10C9.44772 4 9 4.44772 9 5V7ZM5 9C4.44772 9 4 9.44772 4 10V19C4 19.5523 4.44772 20 5 20H14C14.5523 20 15 19.5523 15 19V10C15 9.44772 14.5523 9 14 9H5Z" fill="currentColor"></path></svg>Copy code</button></span></div></div></div><div class="overflow-y-auto p-4" dir="ltr"><code class="!whitespace-pre hljs language-javascript">db.<span class="hljs-property">users</span>.<span class="hljs-title function_">find</span>(
  { <span class="hljs-attr">email</span>: <span class="hljs-string">'12240095.gcit@rub.edu.bt'</span> },
  { <span class="hljs-attr">_id</span>: <span class="hljs-number">0</span> }
);
</code></div></div></pre><h4><strong>17. Find Overdue Assignments Grouped by Course</strong></h4><p>Retrieve overdue assignments grouped by course:</p><pre class="!overflow-visible"><div class="contain-inline-size rounded-md border-[0.5px] border-token-border-medium relative bg-token-sidebar-surface-primary dark:bg-gray-950"><div class="flex items-center text-token-text-secondary px-4 py-2 text-xs font-sans justify-between rounded-t-md h-9 bg-token-sidebar-surface-primary dark:bg-token-main-surface-secondary select-none">javascript</div><div class="sticky top-9 md:top-[5.75rem]"><div class="absolute bottom-0 right-2 flex h-9 items-center"><div class="flex items-center rounded bg-token-sidebar-surface-primary px-2 font-sans text-xs text-token-text-secondary dark:bg-token-main-surface-secondary"><span class="" data-state="closed"><button class="flex gap-1 items-center select-none py-1"><svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" class="icon-sm"><path fill-rule="evenodd" clip-rule="evenodd" d="M7 5C7 3.34315 8.34315 2 10 2H19C20.6569 2 22 3.34315 22 5V14C22 15.6569 20.6569 17 19 17H17V19C17 20.6569 15.6569 22 14 22H5C3.34315 22 2 20.6569 2 19V10C2 8.34315 3.34315 7 5 7H7V5ZM9 7H14C15.6569 7 17 8.34315 17 10V15H19C19.5523 15 20 14.5523 20 14V5C20 4.44772 19.5523 4 19 4H10C9.44772 4 9 4.44772 9 5V7ZM5 9C4.44772 9 4 9.44772 4 10V19C4 19.5523 4.44772 20 5 20H14C14.5523 20 15 19.5523 15 19V10C15 9.44772 14.5523 9 14 9H5Z" fill="currentColor"></path></svg>Copy code</button></span></div></div></div><div class="overflow-y-auto p-4" dir="ltr"><code class="!whitespace-pre hljs language-javascript">db.<span class="hljs-property">users</span>.<span class="hljs-title function_">aggregate</span>([
  { <span class="hljs-attr">$match</span>: { <span class="hljs-attr">email</span>: <span class="hljs-string">'12240095.gcit@rub.edu.bt'</span> } },
  { <span class="hljs-attr">$unwind</span>: <span class="hljs-string">'$courses'</span> },
  { <span class="hljs-attr">$unwind</span>: <span class="hljs-string">'$courses.assignments'</span> },
  {
    <span class="hljs-attr">$match</span>: {
      <span class="hljs-string">'courses.assignments.date'</span>: { <span class="hljs-attr">$lt</span>: <span class="hljs-title class_">ISODate</span>(<span class="hljs-keyword">new</span> <span class="hljs-title class_">Date</span>().<span class="hljs-title function_">toISOString</span>()) },
      <span class="hljs-string">'courses.assignments.stat'</span>: <span class="hljs-string">'not submitted'</span>
    }
  },
  {
    <span class="hljs-attr">$group</span>: {
      <span class="hljs-attr">_id</span>: <span class="hljs-string">'$courses.courseName'</span>,
      <span class="hljs-attr">overdueAssignments</span>: { <span class="hljs-attr">$push</span>: <span class="hljs-string">'$courses.assignments.title'</span> }
    }
  }
]);
</code></div></div></pre><hr><h3><strong>G. Notifications and Automation Queries</strong></h3><h4><strong>18. Notify About Upcoming Deadlines</strong></h4><p>Find assignments due within 3 days to send reminders:</p><pre class="!overflow-visible"><div class="contain-inline-size rounded-md border-[0.5px] border-token-border-medium relative bg-token-sidebar-surface-primary dark:bg-gray-950"><div class="flex items-center text-token-text-secondary px-4 py-2 text-xs font-sans justify-between rounded-t-md h-9 bg-token-sidebar-surface-primary dark:bg-token-main-surface-secondary select-none">javascript</div><div class="sticky top-9 md:top-[5.75rem]"><div class="absolute bottom-0 right-2 flex h-9 items-center"><div class="flex items-center rounded bg-token-sidebar-surface-primary px-2 font-sans text-xs text-token-text-secondary dark:bg-token-main-surface-secondary"><span class="" data-state="closed"><button class="flex gap-1 items-center select-none py-1"><svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" class="icon-sm"><path fill-rule="evenodd" clip-rule="evenodd" d="M7 5C7 3.34315 8.34315 2 10 2H19C20.6569 2 22 3.34315 22 5V14C22 15.6569 20.6569 17 19 17H17V19C17 20.6569 15.6569 22 14 22H5C3.34315 22 2 20.6569 2 19V10C2 8.34315 3.34315 7 5 7H7V5ZM9 7H14C15.6569 7 17 8.34315 17 10V15H19C19.5523 15 20 14.5523 20 14V5C20 4.44772 19.5523 4 19 4H10C9.44772 4 9 4.44772 9 5V7ZM5 9C4.44772 9 4 9.44772 4 10V19C4 19.5523 4.44772 20 5 20H14C14.5523 20 15 19.5523 15 19V10C15 9.44772 14.5523 9 14 9H5Z" fill="currentColor"></path></svg>Copy code</button></span></div></div></div><div class="overflow-y-auto p-4" dir="ltr"><code class="!whitespace-pre hljs language-javascript">db.<span class="hljs-property">users</span>.<span class="hljs-title function_">aggregate</span>([
  { <span class="hljs-attr">$match</span>: { <span class="hljs-attr">email</span>: <span class="hljs-string">'12240095.gcit@rub.edu.bt'</span> } },
  { <span class="hljs-attr">$unwind</span>: <span class="hljs-string">'$courses'</span> },
  { <span class="hljs-attr">$unwind</span>: <span class="hljs-string">'$courses.assignments'</span> },
  {
    <span class="hljs-attr">$match</span>: {
      <span class="hljs-string">'courses.assignments.date'</span>: {
        <span class="hljs-attr">$gte</span>: <span class="hljs-title class_">ISODate</span>(<span class="hljs-keyword">new</span> <span class="hljs-title class_">Date</span>().<span class="hljs-title function_">toISOString</span>()),
        <span class="hljs-attr">$lte</span>: <span class="hljs-title class_">ISODate</span>(<span class="hljs-keyword">new</span> <span class="hljs-title class_">Date</span>(<span class="hljs-title class_">Date</span>.<span class="hljs-title function_">now</span>() + <span class="hljs-number">3</span> * <span class="hljs-number">24</span> * <span class="hljs-number">60</span> * <span class="hljs-number">60</span> * <span class="hljs-number">1000</span>).<span class="hljs-title function_">toISOString</span>())
      }
    }
  },
  {
    <span class="hljs-attr">$project</span>: {
      <span class="hljs-attr">_id</span>: <span class="hljs-number">0</span>,
      <span class="hljs-attr">courseName</span>: <span class="hljs-string">'$courses.courseName'</span>,
      <span class="hljs-attr">assignmentTitle</span>: <span class="hljs-string">'$courses.assignments.title'</span>,
      <span class="hljs-attr">dueDate</span>: <span class="hljs-string">'$courses.assignments.due'</span>
    }
  }
]);
</code></div></div></pre><h4><strong>19. Identify Frequently Missed Deadlines</strong></h4><p>Aggregate assignments that are frequently submitted late:</p><pre class="!overflow-visible"><div class="contain-inline-size rounded-md border-[0.5px] border-token-border-medium relative bg-token-sidebar-surface-primary dark:bg-gray-950"><div class="flex items-center text-token-text-secondary px-4 py-2 text-xs font-sans justify-between rounded-t-md h-9 bg-token-sidebar-surface-primary dark:bg-token-main-surface-secondary select-none">javascript</div><div class="sticky top-9 md:top-[5.75rem]"><div class="absolute bottom-0 right-2 flex h-9 items-center"><div class="flex items-center rounded bg-token-sidebar-surface-primary px-2 font-sans text-xs text-token-text-secondary dark:bg-token-main-surface-secondary"><span class="" data-state="closed"><button class="flex gap-1 items-center select-none py-1"><svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" class="icon-sm"><path fill-rule="evenodd" clip-rule="evenodd" d="M7 5C7 3.34315 8.34315 2 10 2H19C20.6569 2 22 3.34315 22 5V14C22 15.6569 20.6569 17 19 17H17V19C17 20.6569 15.6569 22 14 22H5C3.34315 22 2 20.6569 2 19V10C2 8.34315 3.34315 7 5 7H7V5ZM9 7H14C15.6569 7 17 8.34315 17 10V15H19C19.5523 15 20 14.5523 20 14V5C20 4.44772 19.5523 4 19 4H10C9.44772 4 9 4.44772 9 5V7ZM5 9C4.44772 9 4 9.44772 4 10V19C4 19.5523 4.44772 20 5 20H14C14.5523 20 15 19.5523 15 19V10C15 9.44772 14.5523 9 14 9H5Z" fill="currentColor"></path></svg>Copy code</button></span></div></div></div><div class="overflow-y-auto p-4" dir="ltr"><code class="!whitespace-pre hljs language-javascript">db.<span class="hljs-property">users</span>.<span class="hljs-title function_">aggregate</span>([
  { <span class="hljs-attr">$match</span>: { <span class="hljs-attr">email</span>: <span class="hljs-string">'12240095.gcit@rub.edu.bt'</span> } },
  { <span class="hljs-attr">$unwind</span>: <span class="hljs-string">'$courses'</span> },
  { <span class="hljs-attr">$unwind</span>: <span class="hljs-string">'$courses.assignments'</span> },
  { <span class="hljs-attr">$match</span>: { <span class="hljs-string">'courses.assignments.longStat'</span>: { <span class="hljs-attr">$regex</span>: <span class="hljs-string">'late'</span>, <span class="hljs-attr">$options</span>: <span class="hljs-string">'i'</span> } } },
  {
    <span class="hljs-attr">$group</span>: {
      <span class="hljs-attr">_id</span>: <span class="hljs-string">'$courses.courseName'</span>,
      <span class="hljs-attr">lateAssignments</span>: { <span class="hljs-attr">$push</span>: <span class="hljs-string">'$courses.assignments.title'</span> },
      <span class="hljs-attr">count</span>: { <span class="hljs-attr">$sum</span>: <span class="hljs-number">1</span> }
    }
  },
  { <span class="hljs-attr">$sort</span>: { <span class="hljs-attr">count</span>: -<span class="hljs-number">1</span> } }
]);
</code></div></div></pre><h4><strong>20. Assignments Submitted on the Same Day</strong></h4><p>Retrieve assignments submitted on a specific date:</p><pre class="!overflow-visible"><div class="contain-inline-size rounded-md border-[0.5px] border-token-border-medium relative bg-token-sidebar-surface-primary dark:bg-gray-950"><div class="flex items-center text-token-text-secondary px-4 py-2 text-xs font-sans justify-between rounded-t-md h-9 bg-token-sidebar-surface-primary dark:bg-token-main-surface-secondary select-none">javascript</div><div class="sticky top-9 md:top-[5.75rem]"><div class="absolute bottom-0 right-2 flex h-9 items-center"><div class="flex items-center rounded bg-token-sidebar-surface-primary px-2 font-sans text-xs text-token-text-secondary dark:bg-token-main-surface-secondary"><span class="" data-state="closed"><button class="flex gap-1 items-center select-none py-1"><svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" class="icon-sm"><path fill-rule="evenodd" clip-rule="evenodd" d="M7 5C7 3.34315 8.34315 2 10 2H19C20.6569 2 22 3.34315 22 5V14C22 15.6569 20.6569 17 19 17H17V19C17 20.6569 15.6569 22 14 22H5C3.34315 22 2 20.6569 2 19V10C2 8.34315 3.34315 7 5 7H7V5ZM9 7H14C15.6569 7 17 8.34315 17 10V15H19C19.5523 15 20 14.5523 20 14V5C20 4.44772 19.5523 4 19 4H10C9.44772 4 9 4.44772 9 5V7ZM5 9C4.44772 9 4 9.44772 4 10V19C4 19.5523 4.44772 20 5 20H14C14.5523 20 15 19.5523 15 19V10C15 9.44772 14.5523 9 14 9H5Z" fill="currentColor"></path></svg>Copy code</button></span></div></div></div><div class="overflow-y-auto p-4" dir="ltr"><code class="!whitespace-pre hljs language-javascript">db.<span class="hljs-property">users</span>.<span class="hljs-title function_">aggregate</span>([
  { <span class="hljs-attr">$match</span>: { <span class="hljs-attr">email</span>: <span class="hljs-string">'12240095.gcit@rub.edu.bt'</span> } },
  { <span class="hljs-attr">$unwind</span>: <span class="hljs-string">'$courses'</span> },
  { <span class="hljs-attr">$unwind</span>: <span class="hljs-string">'$courses.assignments'</span> },
  {
    <span class="hljs-attr">$match</span>: {
      <span class="hljs-string">'courses.assignments.date'</span>: {
        <span class="hljs-attr">$gte</span>: <span class="hljs-title class_">ISODate</span>(<span class="hljs-string">'2024-11-20T00:00:00.000Z'</span>),
        <span class="hljs-attr">$lt</span>: <span class="hljs-title class_">ISODate</span>(<span class="hljs-string">'2024-11-21T00:00:00.000Z'</span>)
      }
    }
  },
  { <span class="hljs-attr">$project</span>: { <span class="hljs-attr">_id</span>: <span class="hljs-number">0</span>, <span class="hljs-attr">courseName</span>: <span class="hljs-string">'$courses.courseName'</span>, <span class="hljs-attr">assignmentTitle</span>: <span class="hljs-string">'$courses.assignments.title'</span> } }
]);
</code></div></div></pre><hr><h3><strong>H. System Maintenance and Cleanup</strong></h3><h4><strong>21. Archive Old Assignments</strong></h4><p>Move assignments older than a year to an archive collection:</p><pre class="!overflow-visible"><div class="contain-inline-size rounded-md border-[0.5px] border-token-border-medium relative bg-token-sidebar-surface-primary dark:bg-gray-950"><div class="flex items-center text-token-text-secondary px-4 py-2 text-xs font-sans justify-between rounded-t-md h-9 bg-token-sidebar-surface-primary dark:bg-token-main-surface-secondary select-none">javascript</div><div class="sticky top-9 md:top-[5.75rem]"><div class="absolute bottom-0 right-2 flex h-9 items-center"><div class="flex items-center rounded bg-token-sidebar-surface-primary px-2 font-sans text-xs text-token-text-secondary dark:bg-token-main-surface-secondary"><span class="" data-state="closed"><button class="flex gap-1 items-center select-none py-1"><svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" class="icon-sm"><path fill-rule="evenodd" clip-rule="evenodd" d="M7 5C7 3.34315 8.34315 2 10 2H19C20.6569 2 22 3.34315 22 5V14C22 15.6569 20.6569 17 19 17H17V19C17 20.6569 15.6569 22 14 22H5C3.34315 22 2 20.6569 2 19V10C2 8.34315 3.34315 7 5 7H7V5ZM9 7H14C15.6569 7 17 8.34315 17 10V15H19C19.5523 15 20 14.5523 20 14V5C20 4.44772 19.5523 4 19 4H10C9.44772 4 9 4.44772 9 5V7ZM5 9C4.44772 9 4 9.44772 4 10V19C4 19.5523 4.44772 20 5 20H14C14.5523 20 15 19.5523 15 19V10C15 9.44772 14.5523 9 14 9H5Z" fill="currentColor"></path></svg>Copy code</button></span></div></div></div><div class="overflow-y-auto p-4" dir="ltr"><code class="!whitespace-pre hljs language-javascript">db.<span class="hljs-property">users</span>.<span class="hljs-title function_">aggregate</span>([
  { <span class="hljs-attr">$match</span>: { <span class="hljs-attr">email</span>: <span class="hljs-string">'12240095.gcit@rub.edu.bt'</span> } },
  { <span class="hljs-attr">$unwind</span>: <span class="hljs-string">'$courses'</span> },
  { <span class="hljs-attr">$unwind</span>: <span class="hljs-string">'$courses.assignments'</span> },
  {
    <span class="hljs-attr">$match</span>: {
      <span class="hljs-string">'courses.assignments.date'</span>: {
        <span class="hljs-attr">$lt</span>: <span class="hljs-title class_">ISODate</span>(<span class="hljs-keyword">new</span> <span class="hljs-title class_">Date</span>(<span class="hljs-title class_">Date</span>.<span class="hljs-title function_">now</span>() - <span class="hljs-number">365</span> * <span class="hljs-number">24</span> * <span class="hljs-number">60</span> * <span class="hljs-number">60</span> * <span class="hljs-number">1000</span>).<span class="hljs-title function_">toISOString</span>())
      }
    }
  },
  {
    <span class="hljs-attr">$out</span>: <span class="hljs-string">'archived_assignments'</span>
  }
]);
</code></div></div></pre><hr><p>This extended list of queries addresses more specific and complex operations, including reporting, notifications, trends, and maintenance. Let me know if you need further customization or specific implementations!</p></div>